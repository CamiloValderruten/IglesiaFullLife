<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="noindex">
	<meta name="author" content="Full Life Ministry">

	<title>Presentation | Full Life Ministry</title>

	<link rel="icon" href="/static/favicon.png">
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<style>
		html, body {
			text-align: center;
			background: black;
			font-family: sans-serif;
			color: white;
			width: 100%;
			height: 100%;
			margin: 0;
			display: table
		}

		#clock {
			display: table-cell;
			vertical-align: middle;
		}

		#title {
			font-size: 100px;
			font-weight: lighter;
		}

		.timer {
			font-size: 350px;
		}
	</style>
</head>
<body>

<section id="clock">
	<div id="title">Welcome</div>
	<div class="timer">
		<span class="hours">00</span>:<span class="minutes">00</span>:<span class="seconds">00</span>
	</div>
</section>

<script
		 src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">
</script>
<script
		 src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.2/socket.io.js">
</script>
<script>
    var socket = io.connect('//' + document.domain + ':' + location.port);

    var configuration = {};

    function update_configuration_ui() {
        $('#title').text(configuration.timer.name);
        $('.timer .hours').text(("0" + configuration.timer.hours).slice(-2));
        $('.timer .minutes').text(("0" + configuration.timer.minutes).slice(-2));
        $('.timer .seconds').text(("0" + configuration.timer.seconds).slice(-2));
        if (configuration.hidden){
            $('#clock').hide();
        } else {
            $('#clock').show();
        }

    }

    socket.on('changed', function (data) {
        configuration = JSON.parse(data)['configuration'];
        configuration._id = configuration._id['$oid'];
        update_configuration_ui();
    });
</script>
</body>